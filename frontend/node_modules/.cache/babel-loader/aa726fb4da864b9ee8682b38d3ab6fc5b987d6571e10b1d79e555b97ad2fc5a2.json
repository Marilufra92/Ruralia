{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A576_Apulia\\\\Desktop\\\\Ruralia\\\\ruralia\\\\frontend\\\\src\\\\pages\\\\MapPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix icona di default Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nfunction MapPage() {\n  _s();\n  const [pois, setPois] = useState([]);\n  const center = [41.2006, 16.5992]; // Molfetta\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/api/pois').then(response => {\n      console.log(\"Dati ricevuti:\", response.data);\n      setPois(response.data);\n    }).catch(error => {\n      console.error('Errore nel recupero dei POI:', error);\n    });\n  }, []);\n  const isValidLatLng = (lat, lon) => {\n    const latNum = parseFloat(lat);\n    const lonNum = parseFloat(lon);\n    return !isNaN(latNum) && !isNaN(lonNum);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: center,\n      zoom: 13,\n      scrollWheelZoom: true,\n      style: {\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 OpenStreetMap contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), pois.filter(poi => isValidLatLng(poi.lat, poi.lon)).map(poi => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [parseFloat(poi.lat), parseFloat(poi.lon)],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: poi.nome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 44\n          }, this), poi.descrizione, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 34\n          }, this), poi.via, \", \", poi.comune]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)\n      }, poi.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(MapPage, \"E6KLh0+MLI/eOeudIXT5z32WUsU=\");\n_c = MapPage;\nexport default MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","L","axios","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","MapPage","_s","pois","setPois","center","get","then","response","console","log","data","catch","error","isValidLatLng","lat","lon","latNum","parseFloat","lonNum","isNaN","style","height","width","children","zoom","scrollWheelZoom","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","filter","poi","map","position","nome","descrizione","via","comune","id","_c","$RefreshReg$"],"sources":["C:/Users/A576_Apulia/Desktop/Ruralia/ruralia/frontend/src/pages/MapPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport axios from 'axios';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Fix icona di default Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nfunction MapPage() {\r\n  const [pois, setPois] = useState([]);\r\n  const center = [41.2006, 16.5992]; // Molfetta\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:3001/api/pois')\r\n      .then(response => {\r\n        console.log(\"Dati ricevuti:\", response.data);\r\n        setPois(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Errore nel recupero dei POI:', error);\r\n      });\r\n  }, []);\r\n\r\n  const isValidLatLng = (lat, lon) => {\r\n    const latNum = parseFloat(lat);\r\n    const lonNum = parseFloat(lon);\r\n    return !isNaN(latNum) && !isNaN(lonNum);\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: '100vh', width: '100%' }}>\r\n      <MapContainer center={center} zoom={13} scrollWheelZoom={true} style={{ height: '100%' }}>\r\n        <TileLayer\r\n          attribution='&copy; OpenStreetMap contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n\r\n        {pois\r\n          .filter(poi => isValidLatLng(poi.lat, poi.lon))\r\n          .map((poi) => (\r\n            <Marker\r\n              position={[parseFloat(poi.lat), parseFloat(poi.lon)]}\r\n              key={poi.id}\r\n            >\r\n              <Popup>\r\n                <strong>{poi.nome}</strong><br />\r\n                {poi.descrizione}<br />\r\n                {poi.via}, {poi.comune}\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}